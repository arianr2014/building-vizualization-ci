(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{217:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(28),c=a.n(i),o=a(13),s=a(35),l=a(54),u={rasterLayer:{},vectorLayer:{}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_RASTER":return Object(l.a)({},e,{rasterLayer:Object.assign({},t.payload)});case"SELECT_VECTOR":return Object(l.a)({},e,{vectorLayer:Object.assign({},t.payload)});default:return e}},m=Object(s.b)(d),y=(a(96),a(10)),p=a(11),v=a(15),f=a(12),b=a(14),h=a(25),j=a(53),E=a.n(j),L=a(52),g=a.n(L),O=a(86),S=a(81),w=a.n(S),C=a(83),k=a.n(C),A=a(49),R=a.n(A),z=a(84),T=a.n(z),V=a(85),M=a.n(V);var x=Object(O.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(function(e){var t=e.classes;return n.a.createElement(w.a,{position:"static",style:{backgroundColor:"rgba(0,0,0,0.8)",color:"white"}},n.a.createElement(k.a,null,n.a.createElement(T.a,{className:t.menuButton,color:"inherit","aria-label":"Menu"},n.a.createElement(M.a,null)),n.a.createElement(R.a,{variant:"h6",color:"inherit",className:t.grow},"Building visualization - CS Inc.")))}),I=a(29),N=a(51),D=a.n(N),P=a(2),_=a.n(P),B=a(87),G=a.n(B),J=a(88),Q=(a(48),"pk.eyJ1IjoiZGV2c2VlZCIsImEiOiJnUi1mbkVvIn0.018aLhX0Mb0tdtaT2QNe2Q"),U="mapbox://styles/devseed/cjlp9k7nr7ij02rlgerg2e8r2",W=[{id:"esri-world-imagery",name:"Esri World Imagery",source:"https://server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",active:!0}],Z=[{id:"Area-1",name:"Area 1",source:"https://s3.amazonaws.com/ds-data-projects/courage-services-inc/danny-p.geojson",active:!0},{id:"Area-2",name:"Area 2",source:"https://s3.amazonaws.com/ds-data-projects/courage-services-inc/karito-p.geojson",active:!0},{id:"Area-3",name:"Area 3",source:"https://s3.amazonaws.com/ds-data-projects/courage-services-inc/edith-p.geojson",active:!0},{id:"Area-4",name:"Area 4",source:"https://s3.amazonaws.com/ds-data-projects/courage-services-inc/richman-p.geojson",active:!0},{id:"Area-5",name:"Area 5",source:"https://s3.amazonaws.com/ds-data-projects/courage-services-inc/pilar-p.geojson",active:!0}];D.a.accessToken=Q;var X=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).loadVectorLayers=function(){for(var e=function(e){var t=Z[e],r=Object(I.a)(Object(I.a)(a));G.a.get(t.source).then(function(e){r.map.addSource(t.id,{type:"geojson",data:e.data}),r.map.addLayer({id:t.id,type:"fill",source:t.id,layout:{},paint:{"fill-color":"#f9f024","fill-opacity":.1}}),r.map.addLayer({id:t.id+"-l",type:"line",source:t.id,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#f9f024","line-width":1}}),t.active||(r.map.setLayoutProperty(t.id,"visibility","none"),r.map.setLayoutProperty(t.id+"-l","visibility","none"))})},t=0;t<Z.length;t++)e(t)},a.loadRasterLayers=function(){for(var e=0;e<W.length;e++){var t=W[e];a.map.addLayer({id:t.id,type:"raster",source:{type:"raster",tiles:[t.source],tileSize:256},paint:{}}),t.active||a.map.setLayoutProperty(t.id,"visibility","none")}},a.state={lng:44.4237,lat:33.3146,zoom:11},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.lng,r=t.lat,n=t.zoom;this.map=new D.a.Map({container:this.mapContainer,style:U,center:[a,r],zoom:n}),this.map.on("load",function(){e.loadRasterLayers(),e.loadVectorLayers()})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.rasterLayer,a=e.vectorLayer;if(t&&t.id&&this.map.setLayoutProperty(t.id,"visibility",t.active?"visible":"none"),a&&a.id){var r=J.bbox(this.map.getSource(a.id)._options.data);this.map.fitBounds(r),this.map.setLayoutProperty(a.id,"visibility",a.active?"visible":"none"),this.map.setLayoutProperty(a.id+"-l","visibility",a.active?"visible":"none")}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContent"})}}]),t}(n.a.Component),q=Object(o.b)(function(e){return{rasterLayer:e.rasterLayer,vectorLayer:e.vectorLayer}})(X);q.propTypes={rasterLayer:_.a.object,vectorLayer:_.a.object};var F=q,H=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).layerSelectedActive=function(e){e.active=!0;var t={};t[e.id]=e,a.setState(Object.assign(a.state,t)),a.props.selectRasterLayer(e)},a.layerSelectedDeactivate=function(e){e.active=!1;var t={};t[e.id]=e,a.setState(Object.assign(a.state,t)),a.props.selectRasterLayer(e)},a.renderLayerMenu=function(){return n.a.createElement("div",null,W.map(function(e){return e.active?n.a.createElement("a",{href:"#",key:e.id,className:"active",onClick:function(){return a.layerSelectedDeactivate(e)}}," ",e.name):n.a.createElement("a",{href:"#",key:e.id,onClick:function(){return a.layerSelectedActive(e)}}," ",e.name)}))},a.state=W,a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{id:"menu"},this.renderLayerMenu())}}]),t}(r.Component),K=Object(o.b)(null,function(e){return{selectRasterLayer:function(t){return e({type:"SELECT_RASTER",payload:t})}}})(H),Y=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).layerSelectedActive=function(e){e.active=!0;var t={};t[e.id]=e,a.setState(Object.assign(a.state,t)),a.props.selectVectorLayer(e)},a.layerSelectedDeactivate=function(e){e.active=!1;var t={};t[e.id]=e,a.setState(Object.assign(a.state,t)),a.props.selectVectorLayer(e)},a.renderLayerMenu=function(){return n.a.createElement("div",null,Z.map(function(e){return e.active?n.a.createElement("a",{href:"#",key:e.id,className:"active",onClick:function(){return a.layerSelectedDeactivate(e)}}," ",e.name):n.a.createElement("a",{href:"#",key:e.id,onClick:function(){return a.layerSelectedActive(e)}}," ",e.name)}))},a.state=Z,a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{id:"menu"},this.renderLayerMenu())}}]),t}(r.Component),$=Object(o.b)(null,function(e){return{selectVectorLayer:function(t){return e({type:"SELECT_VECTOR",payload:t})}}})(Y),ee=(a(217),function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(v.a)(this,Object(f.a)(t).call(this))).state={feature:null},e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement(h.Grid,{fluid:!0},n.a.createElement(h.Row,null,n.a.createElement(x,null)),n.a.createElement(h.Row,null,n.a.createElement(h.Col,{xs:12,md:2},n.a.createElement(g.a,null,"Vector Layers"),n.a.createElement(E.a,null),n.a.createElement($,null),n.a.createElement(g.a,null,"Raster Layers"),n.a.createElement(E.a,null),n.a.createElement(K,null)),n.a.createElement(h.Col,{xs:12,md:10},n.a.createElement("div",{className:"mapContent"},n.a.createElement(F,null)))))}}]),t}(r.Component));c.a.render(n.a.createElement(o.a,{store:m},n.a.createElement(ee,null)),document.getElementById("root"))},89:function(e,t,a){e.exports=a(221)},96:function(e,t,a){}},[[89,2,1]]]);
//# sourceMappingURL=main.c12a249e.chunk.js.map